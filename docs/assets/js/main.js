"use strict";const loading=document.querySelector(".js_loading"),charactersList=document.querySelector(".js_characters"),btn=document.querySelector(".js_btn"),textInput=document.querySelector(".js_textinput");let charactersData=[],charactersSearch=[];function renderCharacters(e){const t=document.createElement("li"),r=document.createElement("article"),a=document.createElement("img"),c=document.createElement("h3"),n=document.createElement("p"),s=document.createTextNode(e.name),d=document.createTextNode(e.occupation);a.setAttribute("src",e.img),a.setAttribute("alt",""+e.name),c.appendChild(s),n.appendChild(d),r.appendChild(a),r.appendChild(c),r.appendChild(n),t.appendChild(r),t.classList.add("li-character"),a.classList.add("img");return t}function renderCharactersList(e){loading.innerHTML="";for(const t of e)charactersList.appendChild(renderCharacters(t))}function renderFilteredList(e){charactersList.innerHTML="";for(const t of e)charactersList.appendChild(renderCharacters(t))}function charactersSearched(){const e=textInput.value.toLowerCase();fetch("https://breakingbadapi.com/api/characters?name="+e).then(e=>e.json()).then(e=>{charactersSearch=e,renderFilteredList(charactersSearch)}).catch(e=>{console.error(e)})}function handleClick(e){e.preventDefault(),charactersSearched()}fetch("https://breakingbadapi.com/api/characters").then(e=>e.json()).then(e=>{charactersData=e,renderCharactersList(charactersData)}).catch(e=>{console.error(e)}),btn.addEventListener("click",handleClick);